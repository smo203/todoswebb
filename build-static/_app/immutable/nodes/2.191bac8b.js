import{s as H,f as D,a as T,l as X,A as _e,g as A,d as m,c as N,h as O,m as Y,j as v,k as ne,x as S,i as E,B as z,n as Z,y as L,C as me,D as pe,r as $e,u as ge,v as he,w as ve,E as ye,F as se,G as ke,e as le,H as re,I as be,p as we,J as Ie,K as Ee,L as Se,o as De}from"../chunks/scheduler.af76fd68.js";import{S as K,i as U,a as g,f as Ae,t as y,h as Te,b as k,d as b,m as w,e as I,g as ce,c as ue,j as Ne}from"../chunks/index.cd9bf982.js";function ae(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function Ce(l){let e,n,t,s,i,r;return{c(){e=D("link"),n=T(),t=D("span"),s=X(l[0]),this.h()},l(o){const a=_e("svelte-1kkyu8j",document.head);e=A(a,"LINK",{href:!0,rel:!0}),a.forEach(m),n=N(o),t=A(o,"SPAN",{class:!0,style:!0});var f=O(t);s=Y(f,l[0]),f.forEach(m),this.h()},h(){v(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"),v(e,"rel","stylesheet"),v(t,"class","material-icons-outlined icon svelte-i0s942"),ne(t,"--color",l[2])},m(o,a){S(document.head,e),E(o,n,a),E(o,t,a),S(t,s),i||(r=z(t,"click",function(){me(l[1])&&l[1].apply(this,arguments)}),i=!0)},p(o,[a]){l=o,a&1&&Z(s,l[0]),a&4&&ne(t,"--color",l[2])},i:L,o:L,d(o){o&&(m(n),m(t)),m(e),i=!1,r()}}}function Oe(l,e,n){let{name:t}=e,{handler:s=()=>{}}=e,{color:i="green"}=e;return l.$$set=r=>{"name"in r&&n(0,t=r.name),"handler"in r&&n(1,s=r.handler),"color"in r&&n(2,i=r.color)},[t,s,i]}class B extends K{constructor(e){super(),U(this,e,Oe,Ce,H,{name:0,handler:1,color:2})}}function oe(l,{delay:e=0,duration:n=400,easing:t=pe}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:n,easing:t,css:i=>`opacity: ${i*s}`}}function Ve(l){let e,n,t,s,i;const r=l[2].default,o=$e(r,l,l[1],null);return{c(){e=D("div"),o&&o.c(),this.h()},l(a){e=A(a,"DIV",{class:!0});var f=O(e);o&&o.l(f),f.forEach(m),this.h()},h(){v(e,"class",n="cell "+(l[0]?"cell-last":"")+" svelte-j3cfa")},m(a,f){E(a,e,f),o&&o.m(e,null),i=!0},p(a,[f]){o&&o.p&&(!i||f&2)&&ge(o,r,a,a[1],i?ve(r,a[1],f,null):he(a[1]),null),(!i||f&1&&n!==(n="cell "+(a[0]?"cell-last":"")+" svelte-j3cfa"))&&v(e,"class",n)},i(a){i||(g(o,a),a&&ye(()=>{i&&(s&&s.end(1),t=Ae(e,oe,{duration:700}),t.start())}),i=!0)},o(a){y(o,a),t&&t.invalidate(),a&&(s=Te(e,oe,{duration:350})),i=!1},d(a){a&&m(e),o&&o.d(a),a&&s&&s.end()}}}function je(l,e,n){let{$$slots:t={},$$scope:s}=e,{last:i=!1}=e;return l.$$set=r=>{"last"in r&&n(0,i=r.last),"$$scope"in r&&n(1,s=r.$$scope)},[i,s,t]}class G extends K{constructor(e){super(),U(this,e,je,Ve,H,{last:0})}}function Be(l){let e,n=l[2](l[0])+"",t,s,i,r;return{c(){e=D("span"),t=X(n),this.h()},l(o){e=A(o,"SPAN",{class:!0});var a=O(e);t=Y(a,n),a.forEach(m),this.h()},h(){v(e,"class",s=se(l[1]?"DISABILITATO":l[2](l[0]))+" svelte-wcmvqx")},m(o,a){E(o,e,a),S(e,t),i||(r=z(e,"click",l[3]),i=!0)},p(o,[a]){a&1&&n!==(n=o[2](o[0])+"")&&Z(t,n),a&3&&s!==(s=se(o[1]?"DISABILITATO":o[2](o[0]))+" svelte-wcmvqx")&&v(e,"class",s)},i:L,o:L,d(o){o&&m(e),i=!1,r()}}}function Le(l,e,n){let{prio:t=3}=e,{disabled:s=!1}=e;const i=o=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[o],r=()=>{s||n(0,t=(t+1)%3+1)};return l.$$set=o=>{"prio"in o&&n(0,t=o.prio),"disabled"in o&&n(1,s=o.disabled)},[t,s,i,r]}class Pe extends K{constructor(e){super(),U(this,e,Le,Be,H,{prio:0,disabled:1})}}function qe(l){let e=l[0].id+"",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,s){E(t,n,s)},p(t,s){s&1&&e!==(e=t[0].id+"")&&Z(n,e)},d(t){t&&m(n)}}}function Je(l){let e,n;return e=new B({props:{name:"task_alt",handler:l[2]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Me(l){let e,n;return e=new B({props:{name:"circle",handler:l[2],color:"red"}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function He(l){let e,n,t,s;const i=[Me,Je],r=[];function o(a,f){return a[0].done==!1?0:1}return e=o(l),n=r[e]=i[e](l),{c(){n.c(),t=le()},l(a){n.l(a),t=le()},m(a,f){r[e].m(a,f),E(a,t,f),s=!0},p(a,f){let h=e;e=o(a),e===h?r[e].p(a,f):(ce(),y(r[h],1,1,()=>{r[h]=null}),ue(),n=r[e],n?n.p(a,f):(n=r[e]=i[e](a),n.c()),g(n,1),n.m(t.parentNode,t))},i(a){s||(g(n),s=!0)},o(a){y(n),s=!1},d(a){a&&m(t),r[e].d(a)}}}function Ke(l){let e,n,t,s,i;return{c(){e=D("input"),this.h()},l(r){e=A(r,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),this.h()},h(){v(e,"type","text"),v(e,"class",n="todo-item-input-text "+(l[0].done==!0?"text-done":"")+" svelte-3kpx7s"),v(e,"id",t=l[0].id),v(e,"placeholder","Inserisci il nuovo ToDo")},m(r,o){E(r,e,o),re(e,l[0].task),s||(i=[z(e,"input",l[5]),z(e,"change",l[3])],s=!0)},p(r,o){o&1&&n!==(n="todo-item-input-text "+(r[0].done==!0?"text-done":"")+" svelte-3kpx7s")&&v(e,"class",n),o&1&&t!==(t=r[0].id)&&v(e,"id",t),o&1&&e.value!==r[0].task&&re(e,r[0].task)},d(r){r&&m(e),s=!1,be(i)}}}function Ue(l){let e,n,t;function s(r){l[6](r)}let i={disabled:l[0].done};return l[0].priority!==void 0&&(i.prio=l[0].priority),e=new Pe({props:i}),we.push(()=>Ne(e,"prio",s)),{c(){k(e.$$.fragment)},l(r){b(e.$$.fragment,r)},m(r,o){w(e,r,o),t=!0},p(r,o){const a={};o&1&&(a.disabled=r[0].done),!n&&o&1&&(n=!0,a.prio=r[0].priority,Ie(()=>n=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){y(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Fe(l){let e,n;return e=new B({props:{name:"delete_forever",color:"red",handler:l[7]}}),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Ge(l){let e,n,t,s,i,r,o,a,f,h;return e=new G({props:{$$slots:{default:[qe]},$$scope:{ctx:l}}}),t=new G({props:{$$slots:{default:[He]},$$scope:{ctx:l}}}),i=new G({props:{$$slots:{default:[Ke]},$$scope:{ctx:l}}}),o=new G({props:{$$slots:{default:[Ue]},$$scope:{ctx:l}}}),f=new G({props:{last:!0,$$slots:{default:[Fe]},$$scope:{ctx:l}}}),{c(){k(e.$$.fragment),n=T(),k(t.$$.fragment),s=T(),k(i.$$.fragment),r=T(),k(o.$$.fragment),a=T(),k(f.$$.fragment)},l(c){b(e.$$.fragment,c),n=N(c),b(t.$$.fragment,c),s=N(c),b(i.$$.fragment,c),r=N(c),b(o.$$.fragment,c),a=N(c),b(f.$$.fragment,c)},m(c,u){w(e,c,u),E(c,n,u),w(t,c,u),E(c,s,u),w(i,c,u),E(c,r,u),w(o,c,u),E(c,a,u),w(f,c,u),h=!0},p(c,[u]){const J={};u&513&&(J.$$scope={dirty:u,ctx:c}),e.$set(J);const V={};u&513&&(V.$$scope={dirty:u,ctx:c}),t.$set(V);const C={};u&513&&(C.$$scope={dirty:u,ctx:c}),i.$set(C);const M={};u&513&&(M.$$scope={dirty:u,ctx:c}),o.$set(M);const j={};u&512&&(j.$$scope={dirty:u,ctx:c}),f.$set(j)},i(c){h||(g(e.$$.fragment,c),g(t.$$.fragment,c),g(i.$$.fragment,c),g(o.$$.fragment,c),g(f.$$.fragment,c),h=!0)},o(c){y(e.$$.fragment,c),y(t.$$.fragment,c),y(i.$$.fragment,c),y(o.$$.fragment,c),y(f.$$.fragment,c),h=!1},d(c){c&&(m(n),m(s),m(r),m(a)),I(e,c),I(t,c),I(i,c),I(o,c),I(f,c)}}}function Re(l,e,n){let{todo:t}=e,s=t.priority;const i=ke(),r=u=>{i("change",{type:u,id:t.id})},o=()=>{n(0,t.done=!t.done,t),r("update")},a=()=>{document.getElementById(t.id).blur(),r("update")};function f(){t.task=this.value,n(0,t)}function h(u){l.$$.not_equal(t.priority,u)&&(t.priority=u,n(0,t))}const c=()=>r("delete");return l.$$set=u=>{"todo"in u&&n(0,t=u.todo)},l.$$.update=()=>{l.$$.dirty&17&&t.priority!=s&&(n(4,s=t.priority),r("update"))},[t,r,o,a,s,f,h,c]}class ze extends K{constructor(e){super(),U(this,e,Re,Ge,H,{todo:0})}}function ie(l,e,n){const t=l.slice();return t[6]=e[n],t}function fe(l){let e,n;return e=new ze({props:{todo:l[6]}}),e.$on("change",l[1]),{c(){k(e.$$.fragment)},l(t){b(e.$$.fragment,t)},m(t,s){w(e,t,s),n=!0},p(t,s){const i={};s&1&&(i.todo=t[6]),e.$set(i)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){y(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Qe(l){let e,n="TODOS",t,s,i,r,o,a,f,h,c,u,J,V,C,M,j,P,Q,R;r=new B({props:{name:"tag"}}),f=new B({props:{name:"task_alt"}}),u=new B({props:{name:"list"}}),C=new B({props:{name:"schedule"}}),P=new B({props:{name:"add_box",handler:l[2]}});let q=ae(l[0]),p=[];for(let d=0;d<q.length;d+=1)p[d]=fe(ie(l,q,d));const de=d=>y(p[d],1,1,()=>{p[d]=null});return{c(){e=D("h1"),e.textContent=n,t=T(),s=D("div"),i=D("div"),k(r.$$.fragment),o=T(),a=D("div"),k(f.$$.fragment),h=T(),c=D("div"),k(u.$$.fragment),J=T(),V=D("div"),k(C.$$.fragment),M=T(),j=D("div"),k(P.$$.fragment),Q=T();for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=A(d,"H1",{class:!0,"data-svelte-h":!0}),Ee(e)!=="svelte-1tiafhm"&&(e.textContent=n),t=N(d),s=A(d,"DIV",{class:!0});var _=O(s);i=A(_,"DIV",{class:!0});var $=O(i);b(r.$$.fragment,$),$.forEach(m),o=N(_),a=A(_,"DIV",{class:!0});var F=O(a);b(f.$$.fragment,F),F.forEach(m),h=N(_),c=A(_,"DIV",{class:!0});var x=O(c);b(u.$$.fragment,x),x.forEach(m),J=N(_),V=A(_,"DIV",{class:!0});var ee=O(V);b(C.$$.fragment,ee),ee.forEach(m),M=N(_),j=A(_,"DIV",{class:!0});var te=O(j);b(P.$$.fragment,te),te.forEach(m),Q=N(_);for(let W=0;W<p.length;W+=1)p[W].l(_);_.forEach(m),this.h()},h(){v(e,"class","app-title svelte-1kwn1e8"),v(i,"class","header svelte-1kwn1e8"),v(a,"class","header svelte-1kwn1e8"),v(c,"class","header svelte-1kwn1e8"),v(V,"class","header svelte-1kwn1e8"),v(j,"class","header header-last svelte-1kwn1e8"),v(s,"class","todo-list svelte-1kwn1e8")},m(d,_){E(d,e,_),E(d,t,_),E(d,s,_),S(s,i),w(r,i,null),S(s,o),S(s,a),w(f,a,null),S(s,h),S(s,c),w(u,c,null),S(s,J),S(s,V),w(C,V,null),S(s,M),S(s,j),w(P,j,null),S(s,Q);for(let $=0;$<p.length;$+=1)p[$]&&p[$].m(s,null);R=!0},p(d,[_]){if(_&3){q=ae(d[0]);let $;for($=0;$<q.length;$+=1){const F=ie(d,q,$);p[$]?(p[$].p(F,_),g(p[$],1)):(p[$]=fe(F),p[$].c(),g(p[$],1),p[$].m(s,null))}for(ce(),$=q.length;$<p.length;$+=1)de($);ue()}},i(d){if(!R){g(r.$$.fragment,d),g(f.$$.fragment,d),g(u.$$.fragment,d),g(C.$$.fragment,d),g(P.$$.fragment,d);for(let _=0;_<q.length;_+=1)g(p[_]);R=!0}},o(d){y(r.$$.fragment,d),y(f.$$.fragment,d),y(u.$$.fragment,d),y(C.$$.fragment,d),y(P.$$.fragment,d),p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)y(p[_]);R=!1},d(d){d&&(m(e),m(t),m(s)),I(r),I(f),I(u),I(C),I(P),Se(p,d)}}}function We(l,e,n){const t=async f=>{switch(f.detail.type){case"update":s(f.detail.id);break;case"delete":a(f.detail.id);break}},s=f=>{console.log("UPDATE:",f);const h=i.filter(c=>c.id==f)[0];localStorage.setItem(`todo${f}`,JSON.stringify(h))};let i=[],r=0;De(async()=>{for(let f=0;f<localStorage.setItem.length;f++){const h=localStorage.key(f),c=h.substring(4);c>=r&&(r=c);const u=JSON.parse(localStorage.getItem(h));u!=null&&i.push(u)}n(0,i=[...i])});const o=async()=>{let f={id:++r,task:"",done:!1,priority:3};console.log("CREATE;",f),localStorage.setItem(`todo${f.id}`,JSON.stringify(f)),n(0,i=[...i,f])},a=f=>{console.log("DELETED:",f),n(0,i=i.filter(h=>h.id!=f)),localStorage.removeItem(`todo${f}`)};return[i,t,o]}class Xe extends K{constructor(e){super(),U(this,e,We,Qe,H,{})}}function Ye(l){let e,n,t;return n=new Xe({}),{c(){e=D("main"),k(n.$$.fragment),this.h()},l(s){e=A(s,"MAIN",{class:!0});var i=O(e);b(n.$$.fragment,i),i.forEach(m),this.h()},h(){v(e,"class","svelte-jpakl")},m(s,i){E(s,e,i),w(n,e,null),t=!0},p:L,i(s){t||(g(n.$$.fragment,s),t=!0)},o(s){y(n.$$.fragment,s),t=!1},d(s){s&&m(e),I(n)}}}class et extends K{constructor(e){super(),U(this,e,null,Ye,H,{})}}export{et as component};
